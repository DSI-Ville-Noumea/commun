language: java
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
env:
  global:
  - secure: t8EtEUT6Pp9Bg9lUO3GhlQ6inh4/63IiNqjwoP/P+QsG/WQqgBRnIk4Omr7THxT4Gyic4hFh56uOSj4yfmewdGk5L07WTogVMTjrLwQyIjc0j7cvIvinIicwcix5W11clEtzYilV3NLUCtOwt76/fbXTO+HSlrhQglN5v9f8slbYG0aKV7+cr4pD2uTnZIGQmXA3/7JCmifcYdKv3xKe47X6hTWdYsxgCuOkM71McHYO6ztz0t4c4cCHAwMeLC9ixdAc1+0Jgh5fe0lDixHT8yI3xMejMNSHcUrNfEHa3er9gf2mjF0Uliq+3AOvioYljO2B6FdeEt/QlUb3spUet2UnUS28VgvFoMi5AWIddHRymDgU4040IfoRKNh+re6dDmO0ytFY+gDrhYbq+rcHg86DU8RrJ8CLZ6Gdd1Xfe3dHcmoHychKi6N6BBJLrmMAl4gTH7v85eFZ6+8BttCXxC7S2GEfZRDkWJhBh2yNYeZvgj67QOoAd4W/fGyr8/ieHKamK+kv53Tg/LDohXXQO0dkxEW3l1UPE7oKOiHiPiCrT4U5fCDxK7MQslhiRlFtotg7cL9IPK7WjwlrnuvDOIZtA+6Jt/EE9yy08+Pjyd+DqHBSb7qVlb73imv36/V7Sb6tbg6dU5t4hs/spjJLt8HD1WKkBBimcIkgA8lYwuc=
  - secure: Bbob+c2809SCK7PjGrL+en12kfWNfzHVH4U7cDYQiiIlThPXGp/5fTBeEmpl+xpYCNQa1JUTK33oHQkuv9PX6Cw753aN4sQYREsVVAVjpCEH99D+jhWR7FDlzm1z0c82Rv8WsP9ipEje/Nka5JkLrbMq16CAldw7t+e9heg325Nl6Z0lCFDeaDBcLf9SHHbPSaUp/SnaFosQXORlUlcKJBYTcWvokf38Cn9AVquqsvofISONeXYzAzAGcbdEyFkFBsliKWaBsYydd+5JrKvOy9/5AENh/ZxNP3N+rNq09Gkl72O8tFiQwxtyzcQJyn2m7LJI8Q9RYcfRBgwTZdSzRO5VtPHQ8c7Dpji8y9Bo38rfK8YYh8szCMQFi/ZtTkwkuKJa9bsJTn7eIZpYKvKu4VNtZ/ANiRDjdePSpA1MMTXSqRuJ8cb6VD0LoEo1bckj/3Y6mrggOnR8ZUGLexRl88CyNGBodP+urPGO2TDpkX5nTTYjG6VJGBpq5h+F/RCJwKRfqb620qJMSf8TkGryFcTFzV7M8ChPCEH9NZLVqgF5KHqUdg7Evq+i8H6tyH0Q0+gumMo8kBjd9SulBnNdaVvwwloebx8jGPaLzect6RV798I64Xkap5eQBLMo3y5CvifAE3TsX1LWMpuoIpoBk811NDdPi62/54y/5oSs1e4=
before_install:
- export TZ=Pacific/Noumea
install: mvn clean install checksum:files -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
- mvn versioneye:update test jacoco:report
notifications:
  slack:
    rooms:
      secure: QuiPmbVTN9Mt6Na/DjMA/3XDoJZ0uf3Cn4nx0xvmHdPDEbHD5/Y76aFKmjuNcFIDER/ng2CsvClYbZcDQy2DxEzBFs+FR4ZJ8Rvn8MNOBmLXifOq42vPNv1x3KuRWTDpOVcY+AHwZI+YXLO/4Cwgz3qTo+q2bj46/s2FcG1LJTCRarXWR8fi0TKeD1Twi8d/tMJOBrHCynqVsxy9DvQ2nWDaYYrFxp4bvyLf+2S3IK94K5wHDx8Su6zvF7rTHQ9USn3GFUc66hrLPgGSC9h1JdEZjWyya4edohr1rmg6r7MLJOQjNSLFgaA/QVWuGWMUB1biX0IFq17Qyhdf65cEtut6+Mbm+9LJCIwmjI3lDoJdsSqMWuyFFxyvyeOagnYvjCp78OfPW/qvck8Su1AaXqFjMmFTS95N1d9z2YLtL4xkZ9KEPpLaf3v4g38gjccp5ZIhphgSErPXY8WQ3AvKU0zp5pG3FsVKHqhZB1WnPEbqkenlnk6tebmJKYb8qa8AGz26wbcJDRkdL18ORf7wjeloIe0L9Df876Z3QAjTzdHyj6dVSFqP9U2snmN1dgBfAzIG55AzhbyKRj0LS9BQuyfiNZGXP5h9B4V+aBKWmtrot+/nz2UcKB+JazUs8tdU05zBhohN+eMQEsgTg5KwKtj4ujJ9uWWl+tk5W27RBRQ=
before_deploy:
- export RELEASE_PKG_FILE=$(ls target/*.jar)
- export RELEASE_PKG_MD5_FILE=$(ls target/*.jar.md5)
- export RELEASE_PKG_SHA_FILE=$(ls target/*.jar.sha1)
- echo "deploying $RELEASE_PKG_FILE , $RELEASE_PKG_MD5_FILE , $RELEASE_PKG_SHA_FILE
  to GitHub releases"
deploy:
  provider: releases
  api_key:
    secure: iMmHeoaltk4vkyyE1SWR/LbkHXDF8Xg5e/aJFldb0cJ4K5ivui1Wmzyu82DaDgeR1pkmftRtrGvI4Tcufyo9W00WwH/y6BbUeIEELZzR/tCypE5P/GKRO6/UGbi6lq0Pj/oG8f9GNVFhW+jDr/8jsr1ifErEF9ygWiyD6fwOv0EPAwr5NirAjOspZrsX7UZg9iXTwEGeITgTLi/4AB8XKi7hgDAqJibXchDdJ618brc4Hg/HzVyCy9CbXrAkSTD26PH4Gmq2u68Xga9RDCzT4I1lSfgiXc0Yp8WKbKWFM45kwzYW6nWLEvqXl7Fd+PYXraWD7/wojom9R/B33hO/txFz6r5d0P/A3BOtF15LNIVG9p/UaZ5yg6WQI6mFkLOndYi1o1lxyokAOxNmtucX4kYOaVGcZ/iz+UetAfG/7N+pnZoi7xe5t2EF1K6FRmmxQQhoxtVUY1ZjLIjFb0uVKfaMBzMy/p8z66OBKFDc3enTTiqSduB1A3aFGpf6GGiX/OiFh9PnqZw2KrO24CE7nhXCiRuz0c4QWbD6NNzNnw3BjcEWofVlQDxrrveDAlQIRzfsDFHvz7OvLuHl9WnGSw+TC32pfAX8yE7wm5waBjcta4aV6ccnYbHY/+oypTE4fAcHs/6cUKtC+0eR1LGt/TRPJ9G/zPfyo+z+2D3eMw0=
  file:
  - ${RELEASE_PKG_FILE}
  - ${RELEASE_PKG_MD5_FILE}
  - ${RELEASE_PKG_SHA_FILE}
  skip_cleanup: true
  on:
    tags: true
    repo: DSI-Ville-Noumea/commun
addons:
  apt:
    packages:
      - oracle-java8-installer